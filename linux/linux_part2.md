# 사양

## Load Average

- Load 값의 평균을 나타낸 수치
  - Load
    - 일반적으로 부하라고 번역한다.
    - Linux에서 특정 작업이 처리되기를 기다리는 정도를 표현한 값이다.
  - 프로세스들 중 실행중(R) 혹은 대기(D) 상태에 있는 프로세스들의 개수의 평균이다.
    - Running(R): 프로세스가 실행되어 CPU 자원을 사용하고 있는 상태
    - Uniterruotible Sleep(D): 네트워크 요청을 보낸 후 응답을 기다리거나 I/O 작업 처리를 대기중인 상태로, 응답이 오면 다시 R로 돌아가게 되어 CPU를 사용하게 된다.
    - Sleeping(S): 동작이 중지된 상태로, 신호를 받을 때 까지 멈춰있게 된다. 응답이 오면 R 상태로 진입하는 D와 달리 언제든 신호를 받으면 R로 진입하게 된다.
    - Zombie(Z): 부모 프로세스가 죽은 자식 프로세스를 의미한다. CPU 및 메모리를 사용하지는 않으나 PID를 점유하고 있으므로 PID 고갈이 일어날 수 있다.



- 아래의 명령어들로 확인이 가능하다.

  - `uptime`
    - load average만을 보여준다.
    - 순서대로 1, 5, 15분의 평균값을 보여준다.

  ``` bash
  $ uptime
  ```

  - top
    - load average외에도 cpu 사용량, memory 사용량등을 보여준다.

  ```bash
  $ top
  ```

  - w
    - 사용자 정보도 함께 보여준다.

  ```bash
  $ w
  ```



- Load Average의 판단 기준
  - 같은 값이라도 CPU core의 개수에 따라 달라진다.
    - 만일 load aveage 값이 8이고, CPU core가 4개라면 실질적인 load average 값은 2라고 볼 수 있다.
    - 따라서 CPU의 `core 개수*1`이면 CPU 전체를 사용하고 있는 상황이라 볼 수 있다.
  - load average는 다리 위를 지나는 차와 같다.
    - 1.00은 다리가 차로 꽉 들어차 있다는 것을 의미한다. 이 경우 차량 통행에 문제는 없지만, 새로 건너려는 차가 조금이라도 늘어나면 통행에 문제가 생긴다.
    - 1.00이 넘는다면 다리가 차로 꽉 차 있을 뿐 아니라, 다리를 건너기 위해 대기중인 차도 있다는 의미이다.
    - 만일 core가 2개라면 다리가 2개라는 뜻이고 load average가 1이라면 두 다리 중 하나만 꽉 찬 상태라른 뜻이다(혹은 두 다리가 반반 씩 찼다는 뜻이다).
  - 일반적으로 상한 값을 70%(싱글 코어에서 0.70) 정도로 본다.
    - 

