# 20.09.11

## json.decoder.JSONDecodeError: Invalid control character at ~

- 원인: 일반적으로 응답으로 온 json 형식의 데이터 내부에 `\n`, `\t` 등이 있어 위와 같은 에러가 발생한다고 하나 json 데이터를 찾아본 결과 위와 같은 형식은 존재하지 않았음. 

- 해결: `\n`, `\t` 등을 `\\n`, `\\t`로 변환하거나 아래와 같이 `strict`를 False로 줘 해결

  ```python
  requests.get(movie_url,params=params).json(strict=False)
  ```

- 참고

  > https://stackoverflow.com/questions/9295439/python-json-loads-fails-with-valueerror-invalid-control-character-at-line-1-c



## json.decoder.JSONDecodeError

- 원인: 응답으로 온 json data의 인코딩이 문제였다. 모든 데이터가 마름모 안에 ?가 들어 있는 형태로 출력된다.
- 해결: 데이터를 제공해주는 곳에 문의를 남긴 결과 데이터에 이상이 있는 것이 확인되어 해결 됨





## pandas to_excel 에러

- 해결: 아래와 같이 engine을 줘서 해결

  ```python
  df.to_excel("movie_data6.xlsx",engine='xlsxwriter')
  ```

  